### 프로젝트 설명 문서

#### 1. 디자인 패턴 설명
이 프로젝트는 **사이드카 패턴**과 **사가 패턴**을 사용하여 설계되었습니다.

##### 사이드카 패턴
사이드카 패턴은 마이크로서비스 아키텍처에서 보조 기능을 메인 애플리케이션과 분리하여 독립적인 프로세스로 실행하는 패턴입니다. 이를 통해 메인 애플리케이션의 복잡성을 줄이고, 보조 기능의 독립적인 배포 및 확장이 가능합니다.

##### 사가 패턴
사가 패턴은 분산 트랜잭션을 관리하기 위한 패턴입니다. 사가는 여러 서비스에 걸쳐 있는 트랜잭션을 조정하고, 각 단계가 성공적으로 완료되었는지 확인합니다. 만약 어떤 단계에서 실패가 발생하면, 이전 단계에서 수행된 작업을 보상 트랜잭션을 통해 롤백합니다.

#### 2. 플로우 설명

##### 로그인 페이지 (`login.html`)
사용자는 `login.html` 페이지에서 로그인할 수 있습니다. 이 페이지는 `LoginController`의 `/login` 엔드포인트에 의해 제공됩니다. 사용자가 로그인하면, CSRF 토큰이 포함된 폼을 통해 인증 요청이 전송됩니다.

##### 승인 플로우 페이지 (`approval-flow.html`)
로그인 후, 사용자는 승인 플로우를 시작할 수 있습니다. 승인 플로우는 `ApprovalOrchestrator` 클래스에 의해 관리됩니다. 승인 플로우는 다음과 같은 단계로 구성됩니다:
1. `ApprovalOrchestrator`의 `executeApprovalSaga` 메서드가 호출되어 승인 프로세스를 시작합니다.
2. 각 승인 단계는 `approvalService.approveStep` 메서드를 통해 순차적으로 처리됩니다.
3. 승인 과정 중 예외가 발생하면, `compensateApproval` 메서드가 호출되어 보상 트랜잭션이 수행됩니다.

#### 3. 기타 설명

##### 주요 클래스 및 메서드
- **`ApprovalOrchestrator`**: 승인 프로세스를 관리하는 클래스입니다. 승인 단계의 순차적 실행 및 예외 발생 시 보상 트랜잭션을 처리합니다.
- **`LoginController`**: 로그인 페이지를 제공하는 컨트롤러입니다.
- **`UserController`**: 사용자 정보를 관리하는 컨트롤러입니다. 사용자 목록 조회, 검색, 역할 확인 등의 기능을 제공합니다.

##### 주요 엔드포인트
- `/login`: 로그인 페이지를 제공
- `/users`: 사용자 목록 조회
- `/users/search`: 사용자 검색
- `/log`: 로그 정보 조회
- `/new-api-error`: 의도적인 에러 발생 테스트
- `/fetch-log-json`: 로그 정보 JSON 형식으로 조회
- `/check-role`: 사용자 역할 확인

이 문서는 프로젝트의 주요 흐름과 구성 요소를 설명합니다. 각 페이지와 클래스의 역할을 이해하고, 프로젝트의 구조를 파악하는 데 도움이 됩니다.